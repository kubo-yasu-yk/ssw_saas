# 要件定義書

## はじめに

特定技能の在留資格管理SaaSは、特定技能外国人の受け入れ機関が在留資格関連の書類作成・管理を効率的に行うためのWebアプリケーションです。ニーズ検証を目的としたモック版として、フロントエンドのみを開発し、データはハードコーディングで実装します。データベースやAPIは使用せず、デプロイして実際のユーザーからのフィードバックを収集します。

## 要件

### 要件1：在留資格関連書類作成機能

**ユーザーストーリー：** 受け入れ機関の担当者として、在留資格に関する各種申請書を効率的に作成したい。これにより、手作業での書類作成時間を短縮し、記入ミスを減らすことができる。

#### 受入基準
1. WHEN ユーザーが「在留資格認定証明書交付申請書」作成を選択 THEN システムは申請書フォームを表示する
2. WHEN ユーザーが「在留期間更新許可申請書」作成を選択 THEN システムは更新申請書フォームを表示する
3. WHEN ユーザーが「在留資格変更許可申請書」作成を選択 THEN システムは変更申請書フォームを表示する
4. WHEN ユーザーが必要事項を入力してプレビューボタンを押下 THEN システムは入力内容を反映した書類プレビューを表示する
5. WHEN ユーザーがPDF出力ボタンを押下 THEN システムは入力内容を反映したPDFファイルを生成・ダウンロードする

### 要件2：支援業務書類作成機能

**ユーザーストーリー：** 登録支援機関の担当者として、支援業務に関する報告書類を作成したい。これにより、法的義務である報告業務を効率的に実施できる。

#### 受入基準
1. WHEN ユーザーが「定期面談報告書」作成を選択 THEN システムは面談報告書フォームを表示する
2. WHEN ユーザーが「退職等随時報告書」作成を選択 THEN システムは随時報告書フォームを表示する
3. WHEN ユーザーが報告書の必要事項を入力 THEN システムは入力内容をリアルタイムで保存する
4. WHEN ユーザーが報告書を完成させて提出ボタンを押下 THEN システムは報告書をPDF形式で出力する

### 要件3：情報管理機能

**ユーザーストーリー：** 受け入れ機関の管理者として、特定技能外国人の情報、会社情報、作成した書類を一元管理したい。これにより、情報の散逸を防ぎ、必要な時に迅速に情報を参照できる。

#### 受入基準
1. WHEN ユーザーが特定技能外国人情報を登録 THEN システムはローカルストレージに外国人の基本情報、在留資格情報を保存する
2. WHEN ユーザーが会社情報を入力 THEN システムはローカルストレージに受け入れ機関の基本情報を保存する
3. WHEN ユーザーが書類一覧画面にアクセス THEN システムはハードコーディングされたサンプル書類データを申請中・過去分に分類して表示する
4. WHEN ユーザーが特定技能外国人一覧画面にアクセス THEN システムはハードコーディングされたサンプル外国人情報とローカルストレージの情報を一覧表示する
5. WHEN ユーザーが会社情報画面にアクセス THEN システムはハードコーディングされたサンプル会社情報を表示・編集可能にする

### 要件4：認証機能

**ユーザーストーリー：** システム利用者として、セキュアにログインしてシステムを利用したい。これにより、機密性の高い在留資格情報を安全に管理できる。

#### 受入基準
1. WHEN ユーザーがログイン画面でメールアドレスとパスワードを入力 THEN システムはハードコーディングされた認証情報と照合しダッシュボードにリダイレクトする
2. WHEN 認証に失敗した場合 THEN システムはエラーメッセージを表示する
3. WHEN ユーザーがログアウトボタンを押下 THEN システムはローカルストレージのセッション情報を削除しログイン画面にリダイレクトする
4. WHEN 未認証ユーザーが保護されたページにアクセス THEN システムはログイン画面にリダイレクトする

### 要件5：ユーザビリティ要件

**ユーザーストーリー：** システム利用者として、直感的で使いやすいインターフェースでシステムを操作したい。これにより、システム習得時間を短縮し、日常業務を効率化できる。

#### 受入基準
1. WHEN ユーザーがシステムにアクセス THEN システムはレスポンシブデザインで表示される
2. WHEN ユーザーがフォーム入力中にエラーがある場合 THEN システムはリアルタイムでバリデーションエラーを表示する
3. WHEN ユーザーが操作を実行中 THEN システムはローディング状態を視覚的に表示する
4. WHEN ユーザーが重要な操作を実行 THEN システムは確認ダイアログを表示する
##
# 要件6：モック版技術要件

**ユーザーストーリー：** 開発者として、ニーズ検証のためのモック版を迅速に開発・デプロイしたい。これにより、実際のユーザーからのフィードバックを早期に収集できる。

#### 受入基準
1. WHEN システムを開発 THEN フロントエンドのみで動作し、バックエンドAPIは不要である
2. WHEN データが必要な場合 THEN ハードコーディングされたサンプルデータを使用する
3. WHEN ユーザーが入力したデータを保持する必要がある場合 THEN ローカルストレージを使用する
4. WHEN システムをデプロイ THEN 静的サイトホスティングサービスで公開可能である
5. WHEN ユーザーがページをリロード THEN ローカルストレージのデータは保持される