# いろはな機能との差分分析

- 参照資料
  - `tancee/irohana_cp/docs/irohana-competitor-features.md`
  - `tancee/ssw_saas/docs/product-requirements.md`

## 概要
- いろはなは「期限ドリブンで行政手続きを進めること」「証憑を伴う業務フローを完了させること」を強く意識した UI / 機能構成。
- ssw_saas は MVP 段階で主要な申請フォームと在留資格関連データ管理を一通りカバーしているが、タスク進行管理や証憑保管など運用寄りの機能が未整備。
- 以下ではカテゴリごとに差分を整理し、追加検討が必要なポイントをまとめる。

## 差分一覧

| 分類 | いろはな | ssw_saas | ギャップ / 示唆 |
| --- | --- | --- | --- |
| タスク・ダッシュボード | ホーム画面で「定期届出」「在留期間更新」「入社予定者」「退職予定者」をカード化し、締切日・担当者・ステータスを表示。お知らせも種別タブ付きで整理。 | ダッシュボードは KPI 数値と最新書類・活動ログの一覧に留まる。締切タスクの可視化は未実装。 | 期限ベースのタスクリストや担当者アサイン、制度更新のお知らせ配信を追加すると、業務の優先度付け支援が向上。 |
| 行政手続きワークフロー | 定期届出をステップ（作成→添付→電子申請）で進捗管理し、期間タブ切り替え・「過去提出分」参照などフローが明示。 | 各書類フォームは個別ページで提供されるが、マルチステップ進捗や提出履歴トラッキングは未整備。 | ステップ管理 UI や提出履歴の可視化を導入して、業務フローの抜け漏れを防ぐ余地あり。 |
| 書類フォーム UX | 大量項目を分割した長大フォームに「前回入力値の保持」「企業情報再取得」等の再入力軽減機能を搭載。 | React Hook Form + Zod でバリデーションはあるが、過去値コピーやマスタ再取得といった UX サポートはない。 | 申請テンプレート複製やマスタ連携ボタンを用意し、入力コストを削減する検討が必要。 |
| 証憑アップロード / 管理 | 賃金台帳など PDF/Excel をアップロードし、完了・再アップロードボタンで状態管理。証憑必須の運用を前提化。 | 現状は PDF 出力（モック）想定のみで、証憑ファイルのアップロードや保存機能は記載なし。 | Supabase Storage 等を用いた証憑保管、アップロード状態の可視化が必要。 |
| データ入出力・一括処理 | 外国人一覧で CSV インポート / エクスポート、一括申請作成に対応。 | 一覧は検索・CRUD 中心で CSV 入出力やバルク操作の要件記載なし。 | 行政帳票や大量更新に備え、CSV 取扱いやバッチ操作の要件を検討する。 |
| 外国人ライフサイクル管理 | 「内定」「在籍・休職」「退職届出中・退職」のタブと在籍状況バッジでライフサイクルを管理。退職予定者カードもホームに表示。 | 一覧でのキーワード検索と CRUD が中心で、ライフサイクル別のタブ分けやステータス表示は未記載。 | 状態別ビューやパイプライン管理を追加すると、採用〜退職の進行が把握しやすくなる。 |
| 申請ステータス管理 | 在留期間更新画面で「申請準備」「申請中」「過去提出分」タブや「未作成」バッジ、期限強調を用意。 | 書類ステータス（ドラフト／申請中／承認済み等）はあるが、画面全体でのタブ切替や期限アラートまでは未記載。 | ステータス別タブと期限警告を導入し、申請漏れを防止したい。 |
| お知らせ / 制度情報 | 制度・サービス更新をカテゴリ分けし、詳細画面に法令リンクや要点解説を掲載。 | お知らせ機能の記載なし。制度変更へのナレッジ提供は未整備。 | 制度改正情報を通知するモジュールを検討し、ユーザーの情報収集コストを下げる。 |
| サポート / 通知 UI | 右下にチャット吹き出し、ヘッダーに通知ベル・ユーザー情報を常時表示。 | UI レベルでのサポート導線やリアルタイム通知は未記載。 | インアプリサポートや通知の設計を検討し、問い合わせ導線を明確化する。 |
| エラーハンドリング | 入力無効時に画面上部へ赤帯アラートを表示しフォームロックを通知。 | バリデーションエラー表示はフォーム内で実施。上部アラートの挙動は未記載。 | 重大エラーや保存不可状態をトップレベルで通知する設計があると UX が向上。 |

## ssw_saas に固有で、いろはな資料では確認できなかった要素
- Supabase をバックエンドに据えた BaaS 構成、環境分離（開発/本番）や Vercel と連携するデプロイ戦略。
- アクティビティログ蓄積による操作履歴追跡機能。
- React + Vite + shadcn/ui を用いたモダンなフロントエンド開発体制。

（※ いろはな画面からはアーキテクチャや監査ログの詳細は読み取れないため、ここは現状の強みとして整理。）

## 今後の検討ポイント
1. 期限管理・タスク管理の導入可否と実装スコープ（定期届出・在留更新を中心に設計するか）。
2. 証憑アップロード基盤（ストレージ・アクセス権限・RLS 設計）の検討。
3. 大量データ運用を想定した CSV 入出力や一括操作の UX 検討。
4. 制度情報・サポート通知の提供方針と、既存ダッシュボードとの一体化案。
